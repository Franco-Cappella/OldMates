@using OldMates.Models
@{
    ViewData["Title"] = "Lista de Eventos";
    List<Evento> eventos = ViewBag.Eventos;
}

<div class="container mt-4">
    <h2 class="title">Mis Eventos</h2>

    @if (eventos != null && eventos.Count > 0)
    {
        <section class="task-list">
            <header class="task-list-header">
                <p>Título</p>
                <p>Descripción</p>
                <p>Fecha</p>
                <p>Finalizada</p>
                <p>Localidad</p>
                <p>Capacidad libre</p>
                <p>Intereses</p>
                <p>Foto</p>
                <p>Acciones</p>
            </header>

            @foreach (var evento in eventos)
            {
                <section>
                    <div>@evento.Titulo</div>
                    <div>@evento.Descripcion</div>
                    <div>@evento.Fecha.ToString("dd/MM/yyyy")</div>
                    <div>@evento.Capacidad - @evento.Anotados.Count()</div>
                    <div>@evento.Localidad</div>
                    <div>@evento.Intereses</div>
                    <div><img src="@evento.Foto" alt="Foto del evento" style="max-width: 100px; max-height: 100px;" /></div>
                    <div>
                        <a class="btn btn-secondary" href="@Url.Action("ModificarEvento", "Home", new { IDEvento = evento.ID })">Editar</a>
                        <a class="btn btn-danger" href="@Url.Action("BorrarEvento", "Home", new { IDEvento = evento.ID })">Eliminar</a>
                    </div>
                </section>
            }
        </section>
    }
    else
    {
        <p class="empty-message">No tienes eventos registrados.</p>
    }
</div>

